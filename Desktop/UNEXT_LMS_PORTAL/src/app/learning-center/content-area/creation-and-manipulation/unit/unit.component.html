<div class="unit-component" id="unit-con">
  <div class="content-builder-modal-header" translate="contentBuilder.unit.createNewUnit"
    *ngIf="params.operation === 'create'"></div>
  <div class="content-builder-modal-header" translate="contentBuilder.unit.editUnit"
    *ngIf="params.operation === 'edit'"></div>
  <form [formGroup]="unitForm" id="unit-con-form">
    <div class="content-component-modal-content">
      <div class="row">
        <div class="form-group col-12 col-md-12 col-lg-12">
          <label class="form-label required" translate="contentBuilder.unit.title"></label>
          <div class="position-relative">
            <input type="text" class="form-control char-limit" placeholder="Enter Title" id="unit-title"
              formControlName="title" maxlength="500"
              [ngClass]="{ 'is-invalid': submitted && unitFormControls.title.errors  && (unitFormControls['title'].dirty || unitFormControls['title'].touched) }">
            <span class="char-count">{{ unitNameLengthText }}</span>
          </div>
          <div *ngIf="unitFormControls.title.errors?.required && (unitFormControls['title'].dirty || unitFormControls['title'].touched)" class="error-text"
            translate="contentBuilder.content.errorMsg.requiredField"></div>
          <div *ngIf="unitFormControls.title.errors?.alphaNumericValid && (unitFormControls['title'].dirty || unitFormControls['title'].touched)" class="error-text"
            translate="contentBuilder.content.errorMsg.onlySomeCharacters"></div>
          <div *ngIf="submitted && unitFormControls.title.errors && (unitFormControls['title'].dirty || unitFormControls['title'].touched)" class="invalid-feedback">
            <div *ngIf="unitFormControls.title.errors.required" translate="contentBuilder.unit.thisIsARequiredField">
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-12 col-md-12 col-lg-12">
          <label class="form-label" translate="contentBuilder.unit.description"></label>
          <app-ckeditor id="unit-description-editor" [ckeditorFormControl]="unitForm.controls['description']" [config]="{placeholder: 'Type here...'}">
          </app-ckeditor>
        </div>
      </div>
      <div class="row">
        <div class="form-group col-12 col-md-12 col-lg-12">
          <div [hidden]="!unitFileUploader">
            <label class="form-label required" translate="contentBuilder.unit.bannerImage"></label>
            <app-file-upload id="unit-file-upload" [outputWidth]="unitWebWidth" [outputHeight]="unitWebHeight"
              (fileSaved)="unitImageSaveHandler($event)" [fileType]="unitFileType" [acceptedFiles]="unitAcceptedFiles"
              [savedImage]="bannerSavedImage" uploadTitle="contentBuilder.unit.webImgUploadTitle"
              buttonText="contentBuilder.unit.webImgButton" dragDropText="contentBuilder.unit.webImgDragDrop"
              [noteText]="imageText" (selectedFilName)="selectedFileName($event)">
            </app-file-upload>
          </div>
          <div class="uploaded-img ml-0" *ngIf="unitImageTitle != '' && showWebEditUnit">
            <label class="form-label required" translate="contentBuilder.unit.bannerImage"></label>
            <div class="uploaded-logo unit-upoloaded-image upload-progess">
              <span>{{unitImageTitle}}</span>
              <div class="logo-options unit-image-options">
                <a id="unit-editWebBannerImage" (click)="editWebBannerImage()">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100"
                    height="100" viewBox="0 0 100 100">
                    <defs>
                      <clipPath id="clip-path">
                        <rect id="Rectangle_7872" data-name="Rectangle 7872" width="101.533" height="101.533"
                          transform="translate(0)" fill="#7e7e7e" stroke="#7e7e7e" stroke-width="0.25" />
                      </clipPath>
                      <clipPath id="clip-edit">
                        <rect width="100" height="100" />
                      </clipPath>
                    </defs>
                    <g id="edit" clip-path="url(#clip-edit)">
                      <g id="Mask_Group_123" data-name="Mask Group 123" transform="translate(0 -0.767)"
                        clip-path="url(#clip-path)">
                        <path id="edit-2" data-name="edit"
                          d="M86.708,3.942a13.49,13.49,0,0,0-19.061,0l-4.771,4.8L12.086,59.5l-.108.109c-.026.026-.026.054-.054.054-.054.081-.135.161-.188.242,0,.027-.028.027-.028.054-.054.081-.08.135-.135.216-.026.027-.026.053-.053.081-.027.081-.054.135-.082.216,0,.026-.026.026-.026.054L.143,94.415A2.653,2.653,0,0,0,.79,97.164a2.712,2.712,0,0,0,1.914.783,3.18,3.18,0,0,0,.863-.135l33.861-11.3c.026,0,.026,0,.054-.026a.977.977,0,0,0,.242-.109.1.1,0,0,0,.055-.026c.08-.054.188-.109.269-.163s.162-.134.243-.188c.027-.028.053-.028.053-.054.028-.027.082-.053.109-.108L94.014,30.28a13.489,13.489,0,0,0,0-19.06ZM36.565,80.18,17.8,61.417,64.764,14.456,83.527,33.218ZM15.159,66.4,31.551,82.8l-24.614,8.2Zm75.054-39.9L87.355,29.39,68.591,10.626l2.886-2.884a8.086,8.086,0,0,1,11.43,0l7.332,7.332a8.113,8.113,0,0,1-.026,11.431Zm0,0"
                          transform="translate(1.788 1.794)" fill="#7e7e7e" stroke="#7e7e7e" stroke-width="0.25" />
                      </g>
                    </g>
                  </svg>

                </a>
                <a id="unit-webBannerDeleteConfirm" (click)="webBannerDeleteConfirm()">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="88"
                    height="100" viewBox="0 0 88 100">
                    <defs>
                      <clipPath id="clip-delete">
                        <rect width="88" height="100" />
                      </clipPath>
                    </defs>
                    <g id="delete" clip-path="url(#clip-delete)">
                      <g id="delete-2" data-name="delete">
                        <path id="Path_13743" data-name="Path 13743"
                          d="M224.935,154.7a2.537,2.537,0,0,0-2.537,2.537v47.946a2.537,2.537,0,0,0,5.074,0V157.24A2.537,2.537,0,0,0,224.935,154.7Zm0,0"
                          transform="translate(-165.978 -116.638)" fill="#7e7e7e" stroke="#7e7e7e"
                          stroke-width="0.25" />
                        <path id="Path_13744" data-name="Path 13744"
                          d="M106.935,154.7a2.537,2.537,0,0,0-2.537,2.537v47.946a2.537,2.537,0,1,0,5.074,0V157.24A2.537,2.537,0,0,0,106.935,154.7Zm0,0"
                          transform="translate(-77.913 -116.638)" fill="#7e7e7e" stroke="#7e7e7e" stroke-width="0.25" />
                        <path id="Path_13745" data-name="Path 13745"
                          d="M7.2,29.769v57.7a12.388,12.388,0,0,0,3.721,8.911A13,13,0,0,0,19.987,100h48a13,13,0,0,0,9.064-3.618,12.388,12.388,0,0,0,3.721-8.911v-57.7a8.993,8.993,0,0,0,7.123-9.8c-.63-4.455-4.742-7.788-9.609-7.789H65.3V9.249a8.855,8.855,0,0,0-2.927-6.565A10.41,10.41,0,0,0,55.249,0H32.723A10.41,10.41,0,0,0,25.6,2.685a8.855,8.855,0,0,0-2.927,6.565v2.927H9.688C4.82,12.178.709,15.51.079,19.965a8.993,8.993,0,0,0,7.123,9.8ZM67.985,95.315h-48a7.685,7.685,0,0,1-7.712-7.845V29.975H75.7V87.469a7.685,7.685,0,0,1-7.712,7.845ZM27.75,9.249A4.337,4.337,0,0,1,29.19,6a5.107,5.107,0,0,1,3.533-1.313H55.249A5.107,5.107,0,0,1,58.782,6a4.336,4.336,0,0,1,1.44,3.254v2.927H27.75ZM9.688,16.861h68.6a4.4,4.4,0,0,1,4.566,4.215,4.4,4.4,0,0,1-4.566,4.215H9.688a4.4,4.4,0,0,1-4.566-4.215A4.4,4.4,0,0,1,9.688,16.861Zm0,0"
                          transform="translate(0.003 0.002)" fill="#7e7e7e" stroke="#7e7e7e" stroke-width="0.25" />
                        <path id="Path_13746" data-name="Path 13746"
                          d="M165.935,154.7a2.537,2.537,0,0,0-2.537,2.537v47.946a2.537,2.537,0,1,0,5.074,0V157.24A2.537,2.537,0,0,0,165.935,154.7Zm0,0"
                          transform="translate(-121.946 -116.638)" fill="#7e7e7e" stroke="#7e7e7e"
                          stroke-width="0.25" />
                      </g>
                    </g>
                  </svg>

                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    
        <div class="attach-objective-cta layout layout-item-center layout-justify-center mt24 mb24" id="attachLearningObjective" (click)="attachLearningObjectives('addLearningObjective')"
        *ngIf="!isObjectiveAttached">
        <p translate="learningOutcomeListView.buttons.addLearningObjective"></p>
      </div>
        <div class="attach-objective-cta layout layout-item-center layout-justify-center mt24 mb24"  id="attachedLearningObjectiveCta" *ngIf="isObjectiveAttached" (click)="attachLearningObjectives('viewLearningObjective')">
          <div class="layout layout-item-center" >
            <p translate="learningOutcomeListView.titles.learningObjective"></p>
          </div>
        </div>
       

      

      <input type="hidden" formControlName="courseId" id="unit-courseId">
      <input type="hidden" formControlName="status" id="unit-status">
      <input type="hidden" formControlName="bannerFileName" id="unit-bannerFileName">
      <div class="layout layout-item-center">
        <label class="form-check-label mr16" for="visibility-criteria"
            translate="contentBuilder.unit.visibilityCriteria"></label>
          <div class="form-check form-switch mr16">
            <input class="form-check-input" type="checkbox" id="visibility-criteria" formControlName="visibilityCriteria"
              name="visibility-criteria">
            <span class="circle-switch d-inline-block"></span>
          </div>
      </div>
      
    </div>
    <div class="content-builder-modal-footer text-end">
      <button class="no-btn mr16" id="unit-cancel-btn" (click)="sendConfirmStatus(false)"
        translate="contentBuilder.unit.button.cancel"></button>
      <button class="yes-btn" id="unit-save-btn" type="submit" (click)="isUnitFormValidate()" translate="contentBuilder.unit.button.save"></button>
    </div>
  </form>
</div>